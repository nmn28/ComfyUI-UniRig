<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComfyUI-UniRig - Test Results</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #eee;
            min-height: 100vh;
            line-height: 1.5;
        }

        header {
            background: #16213e;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #0f3460;
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        h1 a {
            color: #fff;
            text-decoration: none;
        }

        h1 a:hover { color: #4da6ff; }

        .meta {
            color: #888;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        /* Summary Section */
        .summary {
            background: #16213e;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .progress-bar {
            background: #0f3460;
            border-radius: 4px;
            height: 24px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .progress-fill {
            background: linear-gradient(90deg, #00c853, #69f0ae);
            height: 100%;
            transition: width 0.3s ease;
        }

        .progress-fill.has-failures {
            background: linear-gradient(90deg, #00c853 0%, #00c853 0.0%, #ff5252 0.0%, #ff5252 100%);
            width: 100% !important;
        }

        .stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .stat-badge {
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .stat-pass {
            background: rgba(0, 200, 83, 0.2);
            color: #69f0ae;
        }

        .stat-fail {
            background: rgba(255, 82, 82, 0.2);
            color: #ff8a80;
        }

        .stat-total {
            color: #888;
            font-size: 1rem;
        }

        /* Failed Section */
        .failed-section {
            background: rgba(255, 82, 82, 0.1);
            border: 1px solid rgba(255, 82, 82, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .failed-section h2 {
            color: #ff8a80;
            font-size: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .failed-item {
            background: #16213e;
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 0.5rem;
        }

        .failed-item:last-child {
            margin-bottom: 0;
        }

        .failed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .failed-name {
            font-weight: 600;
            color: #ff8a80;
        }

        .failed-duration {
            color: #888;
            font-size: 0.85rem;
        }

        .failed-error {
            background: #0f3460;
            padding: 0.75rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.85rem;
            color: #ffa;
            margin-bottom: 0.5rem;
        }

        .log-link {
            color: #4da6ff;
            text-decoration: none;
            font-size: 0.85rem;
        }

        .log-link:hover {
            text-decoration: underline;
        }

        /* Workflow Grid */
        .section-title {
            font-size: 1rem;
            color: #888;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .workflow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }

        .workflow-card {
            background: #16213e;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .workflow-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .workflow-card.clickable {
            cursor: pointer;
        }

        .workflow-card.failed {
            border: 2px solid #ff5252;
            box-shadow: 0 0 8px rgba(255, 82, 82, 0.3);
        }

        .workflow-screenshot {
            width: 100%;
            aspect-ratio: 16/10;
            object-fit: cover;
            background: #0f3460;
            display: block;
        }

        .workflow-screenshot.placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #444;
            font-size: 0.85rem;
        }

        .workflow-info {
            padding: 0.75rem 1rem;
            border-top: 1px solid #0f3460;
        }

        .workflow-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.25rem;
        }

        .workflow-name {
            font-weight: 500;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 60%;
        }

        .workflow-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .workflow-badge.pass {
            background: rgba(0, 200, 83, 0.2);
            color: #69f0ae;
        }

        .workflow-badge.fail {
            background: rgba(255, 82, 82, 0.2);
            color: #ff8a80;
        }

        .workflow-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #666;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
            overflow-y: auto;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            width: 100%;
            margin: auto;
        }

        .lightbox-content img {
            max-width: 100%;
            max-height: 60vh;
            object-fit: contain;
            border-radius: 4px;
            align-self: center;
        }

        .lightbox-close {
            position: fixed;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #fff;
            cursor: pointer;
            opacity: 0.7;
            background: none;
            border: none;
            z-index: 1001;
        }

        .lightbox-close:hover {
            opacity: 1;
        }

        .lightbox-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #16213e;
            border-radius: 4px;
            margin-top: 1rem;
        }

        .lightbox-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
        }

        .lightbox-hardware {
            display: block;
            font-size: 0.8rem;
            color: #888;
            margin-top: 0.25rem;
        }

        .lightbox-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .lightbox-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .lightbox-badge.pass {
            background: rgba(0, 200, 83, 0.2);
            color: #69f0ae;
        }

        .lightbox-badge.fail {
            background: rgba(255, 82, 82, 0.2);
            color: #ff8a80;
        }

        .lightbox-duration {
            color: #888;
            font-size: 0.9rem;
        }

        .lightbox-log {
            background: #0f3460;
            border-radius: 4px;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.8rem;
            line-height: 1.4;
            white-space: pre-wrap;
            word-break: break-all;
            color: #ccc;
        }

        .lightbox-log::-webkit-scrollbar {
            width: 8px;
        }

        .lightbox-log::-webkit-scrollbar-track {
            background: #16213e;
            border-radius: 4px;
        }

        .lightbox-log::-webkit-scrollbar-thumb {
            background: #4da6ff;
            border-radius: 4px;
        }

        /* Resource Graph */
        .resource-graph {
            display: none;
            margin-top: 1rem;
            background: #0f3460;
            border-radius: 8px;
            padding: 1rem;
        }

        .resource-graph.active {
            display: block;
        }

        .resource-graph-title {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 0.5rem;
        }

        .resource-graph canvas {
            width: 100%;
            height: 120px;
        }

        .resource-legend {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
            font-size: 0.75rem;
        }

        .resource-legend span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .resource-legend .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .resource-legend .cpu { background: #4da6ff; }
        .resource-legend .ram { background: #22c55e; }
        .resource-legend .gpu { background: #f97316; }

        /* Video Player */
        .video-player {
            display: none;
            margin-top: 1rem;
            background: #1a1a2e;
            border-radius: 8px;
            padding: 1rem;
        }

        .video-player.active {
            display: block;
        }

        .video-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .video-play-btn {
            background: #4da6ff;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .video-play-btn:hover {
            background: #3d8ee0;
        }

        .video-frame-counter {
            color: #888;
            font-size: 0.85rem;
        }

        .video-slider-container {
            padding: 15px 0;
        }

        /* noUiSlider customization */
        #video-slider {
            height: 6px;
            background: #333;
            border: none;
            box-shadow: none;
        }

        #video-slider .noUi-connect {
            background: #4da6ff;
        }

        #video-slider .noUi-handle {
            width: 16px;
            height: 16px;
            background: #4da6ff;
            border: none;
            border-radius: 50%;
            box-shadow: none;
            top: -5px;
            right: -8px;
            cursor: pointer;
        }

        #video-slider .noUi-handle:before,
        #video-slider .noUi-handle:after {
            display: none;
        }

        /* Pips (tick marks) */
        .noUi-pips {
            color: #666;
        }

        .noUi-marker {
            background: #4da6ff;
            width: 2px;
        }

        .noUi-marker-large {
            height: 12px;
        }

        .noUi-value {
            display: none;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: #666;
            font-size: 0.85rem;
        }

        footer a {
            color: #4da6ff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .workflow-grid {
                grid-template-columns: 1fr;
            }

            .stats {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
    </style>
    <link href="https://cdn.jsdelivr.net/npm/nouislider@15/dist/nouislider.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15/dist/nouislider.min.js"></script>
</head>
<body>
    
    <header>
        <h1><a href="https://github.com/PozzettiAndrea/ComfyUI-UniRig">ComfyUI-UniRig</a> Test Results</h1>
        <p class="meta">2026-01-30 16:55 UTC | Windows-2025Server-10.0.26100-SP0 | AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD</p>
    </header>

    <div class="container">
        <div class="summary">
            <div class="progress-bar">
                <div class="progress-fill has-failures" style="width: 0.0%"></div>
            </div>
            <div class="stats">
                <span class="stat-badge stat-pass">0 PASSED</span>
                <span class="stat-badge stat-fail">5 FAILED</span>
                <span class="stat-total">0/5 tests (0.0%)</span>
            </div>
        </div>

        
        <div class="failed-section">
            <h2>Failed Tests</h2>
            
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">apply_animation</span>
                    <span class="failed-duration">10.10s</span>
                </div>
                <div class="failed-error">Workflow validation failed

Details:
Prompt outputs failed validation
Node errors:
{
  &quot;8&quot;: {
    &quot;errors&quot;: [
      {
        &quot;type&quot;: &quot;required_input_missing&quot;,
        &quot;message&quot;: &quot;Required input is missing&quot;,
        &quot;details&quot;: &quot;fbx_file&quot;,
        &quot;extra_info&quot;: {
          &quot;input_name&quot;: &quot;fbx_file&quot;
        }
      }
    ],
    &quot;dependent_outputs&quot;: [
      &quot;6&quot;,
      &quot;7&quot;
    ],
    &quot;class_type&quot;: &quot;UniRigLoadRiggedMesh&quot;
  }
}</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">rig_human_with_texture</span>
                    <span class="failed-duration">8.87s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;d1838bc5-363f-4b38-adf5-e3405260265a&#x27;, &#x27;node_id&#x27;: &#x27;39&#x27;, &#x27;node_type&#x27;: &#x27;UniRigAutoRig&#x27;, &#x27;executed&#x27;: [&#x27;40&#x27;, &#x27;27&#x27;], &#x27;exception_message&#x27;: &#x27;skeleton_model checkpoint not found. Please connect a UniRigLoadSkeletonModel node.\n&#x27;, &#x27;exception_type&#x27;: &#x27;RuntimeError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 518, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 329, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 303, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 291, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\auto_rig.py&quot;, line 89, in auto_rig\n    normalized_mesh, skeleton, texture_preview = skeleton_extractor.extract(\n                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        trimesh=trimesh,\n        ^^^^^^^^^^^^^^^^\n    ...&lt;3 lines&gt;...\n        target_face_count=target_face_count\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\skeleton_extraction.py&quot;, line 310, in extract\n    raise RuntimeError(\n    ...&lt;2 lines&gt;...\n    )\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;skeleton_template&#x27;: [&#x27;mixamo&#x27;], &#x27;fbx_name&#x27;: [&#x27;&#x27;], &#x27;target_face_count&#x27;: [50000], &#x27;trimesh&#x27;: [&#x27;&lt;trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)&gt;&#x27;], &#x27;model&#x27;: [&quot;{&#x27;skeleton_model&#x27;: {&#x27;type&#x27;: &#x27;skeleton&#x27;, &#x27;model_id&#x27;: &#x27;apozz/UniRig-safetensors&#x27;, &#x27;task_config_path&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\unirig\\\\configs/task/quick_inference_skeleton_articulationxl_ar_256.yaml&#x27;, &#x27;unirig_path&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\unirig&#x27;, &#x27;models_dir&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\models\\\\unirig&#x27;, &#x27;cached&#x27;: False, &#x27;model_cache_key&#x27;: None}, &#x27;skinning_model&#x27;: {&#x27;type&#x27;: &#x27;skinning&#x27;, &#x27;model_id&#x27;: &#x27;apozz/UniRig-safetensors&#x27;, &#x27;task_config_path&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\unirig\\\\configs/task/quick_inference_unirig_skin.yaml&#x27;, &#x27;unirig_path&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\unirig&#x27;, &#x27;models_dir&#x27;: &#x27;D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\models\\\\unirig&#x27;, &#x27;cached&#x27;: False, &#x27;model_cache_key&#x27;: None}, &#x27;model_id&#x27;: &#x27;apozz/UniRig-safetensors&#x27;, &#x27;cache_to_gpu&#x27;: False}&quot;]}, &#x27;current_outputs&#x27;: [&#x27;40&#x27;, &#x27;27&#x27;, &#x27;10&#x27;, &#x27;39&#x27;], &#x27;timestamp&#x27;: 1769792095644}

Details:
Workflow: D:\a\ComfyUI-UniRig\ComfyUI-UniRig\ComfyUI\custom_nodes\ComfyUI-UniRig\workflows\rig_human_with_texture.json
Node error: UniRigAutoRig</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">rig_human_with_texture_mia</span>
                    <span class="failed-duration">10.33s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;0b3740f4-1da1-4d10-8c88-13f3fc5b54f4&#x27;, &#x27;node_id&#x27;: &#x27;42&#x27;, &#x27;node_type&#x27;: &#x27;MIAAutoRig&#x27;, &#x27;executed&#x27;: [&#x27;45&#x27;, &#x27;44&#x27;, &#x27;46&#x27;, &#x27;43&#x27;, &#x27;41&#x27;, &#x27;47&#x27;, &#x27;27&#x27;], &#x27;exception_message&#x27;: &quot;No module named &#x27;mia_inference&#x27;\n&quot;, &#x27;exception_type&#x27;: &#x27;ModuleNotFoundError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 518, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 329, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 303, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 291, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\mia_auto_rig.py&quot;, line 81, in auto_rig\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;fbx_name&#x27;: [&#x27;rigatoni&#x27;], &#x27;no_fingers&#x27;: [False], &#x27;use_normal&#x27;: [False], &#x27;reset_to_rest&#x27;: [True], &#x27;trimesh&#x27;: [&#x27;&lt;trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)&gt;&#x27;], &#x27;model&#x27;: [&quot;{&#x27;backend&#x27;: &#x27;mia&#x27;, &#x27;cache_to_gpu&#x27;: True}&quot;]}, &#x27;current_outputs&#x27;: [&#x27;45&#x27;, &#x27;44&#x27;, &#x27;42&#x27;, &#x27;10&#x27;, &#x27;46&#x27;, &#x27;43&#x27;, &#x27;47&#x27;, &#x27;41&#x27;, &#x27;27&#x27;], &#x27;timestamp&#x27;: 1769792106113}

Details:
Workflow: D:\a\ComfyUI-UniRig\ComfyUI-UniRig\ComfyUI\custom_nodes\ComfyUI-UniRig\workflows\rig_human_with_texture_mia.json
Node error: MIAAutoRig</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">rig_human_with_texture_mia_debug</span>
                    <span class="failed-duration">8.31s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;32711684-c48d-4b40-9495-62649359327b&#x27;, &#x27;node_id&#x27;: &#x27;42&#x27;, &#x27;node_type&#x27;: &#x27;MIAAutoRig&#x27;, &#x27;executed&#x27;: [&#x27;45&#x27;, &#x27;46&#x27;, &#x27;47&#x27;, &#x27;51&#x27;, &#x27;41&#x27;, &#x27;27&#x27;], &#x27;exception_message&#x27;: &quot;No module named &#x27;mia_inference&#x27;\n&quot;, &#x27;exception_type&#x27;: &#x27;ModuleNotFoundError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 518, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 329, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 303, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py&quot;, line 291, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\mia_auto_rig.py&quot;, line 81, in auto_rig\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;fbx_name&#x27;: [&#x27;rigatoni&#x27;], &#x27;no_fingers&#x27;: [False], &#x27;use_normal&#x27;: [False], &#x27;reset_to_rest&#x27;: [True], &#x27;trimesh&#x27;: [&#x27;&lt;trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)&gt;&#x27;], &#x27;model&#x27;: [&quot;{&#x27;backend&#x27;: &#x27;mia&#x27;, &#x27;cache_to_gpu&#x27;: True}&quot;]}, &#x27;current_outputs&#x27;: [&#x27;49&#x27;, &#x27;50&#x27;, &#x27;27&#x27;, &#x27;45&#x27;, &#x27;42&#x27;, &#x27;46&#x27;, &#x27;43&#x27;, &#x27;47&#x27;, &#x27;51&#x27;, &#x27;41&#x27;, &#x27;44&#x27;], &#x27;timestamp&#x27;: 1769792114548}

Details:
Workflow: D:\a\ComfyUI-UniRig\ComfyUI-UniRig\ComfyUI\custom_nodes\ComfyUI-UniRig\workflows\rig_human_with_texture_mia_debug.json
Node error: MIAAutoRig</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">rigged_manipulator</span>
                    <span class="failed-duration">6.03s</span>
                </div>
                <div class="failed-error">Workflow validation failed

Details:
Prompt outputs failed validation
Node errors:
{
  &quot;1&quot;: {
    &quot;errors&quot;: [
      {
        &quot;type&quot;: &quot;required_input_missing&quot;,
        &quot;message&quot;: &quot;Required input is missing&quot;,
        &quot;details&quot;: &quot;fbx_file&quot;,
        &quot;extra_info&quot;: {
          &quot;input_name&quot;: &quot;fbx_file&quot;
        }
      }
    ],
    &quot;dependent_outputs&quot;: [
      &quot;3&quot;
    ],
    &quot;class_type&quot;: &quot;UniRigLoadRiggedMesh&quot;
  }
}</div>
            </div>
        
        </div>
    

        <h2 class="section-title">All Workflows</h2>
        <div class="workflow-grid">
            
            <div class="workflow-card clickable failed" onclick="openLightboxByName('apply_animation')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="apply_animation">apply_animation</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>10.10s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('rig_human_with_texture')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="rig_human_with_texture">rig_human_with_texture</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>8.87s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('rig_human_with_texture_mia')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="rig_human_with_texture_mia">rig_human_with_texture_mia</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>10.33s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('rig_human_with_texture_mia_debug')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="rig_human_with_texture_mia_debug">rig_human_with_texture_mia_debug</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>8.31s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('rigged_manipulator')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="rigged_manipulator">rigged_manipulator</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>6.03s</span>
                    </div>
                </div>
            </div>
        
        </div>
    </div>

    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
            <div class="video-player" id="video-player">
                <div class="video-slider-container">
                    <div id="video-slider"></div>
                </div>
                <div class="video-controls">
                    <span class="video-frame-counter" id="video-frame-counter">0.0s / 0.0s</span>
                </div>
            </div>
            <div class="resource-graph" id="resource-graph">
                <div class="resource-graph-title">Resource Usage</div>
                <canvas id="resource-canvas"></canvas>
                <div class="resource-legend">
                    <span><span class="dot cpu"></span> CPU (cores)</span>
                    <span><span class="dot ram"></span> RAM (GB)</span>
                    <span id="gpu-legend" style="display:none"><span class="dot gpu"></span> GPU (%)</span>
                </div>
            </div>
            <div class="lightbox-info">
                <div>
                    <span class="lightbox-title" id="lightbox-title"></span>
                    <span class="lightbox-hardware" id="lightbox-hardware"></span>
                </div>
                <div class="lightbox-meta">
                    <span class="lightbox-badge" id="lightbox-badge"></span>
                    <span class="lightbox-duration" id="lightbox-duration"></span>
                </div>
            </div>
            <pre class="lightbox-log" id="lightbox-log"></pre>
        </div>
    </div>

    <footer>
        Generated by <a href="https://github.com/PozzettiAndrea/comfy-test">comfy-test</a>
    </footer>

    <script>
        // Store workflow data for hash-based linking
        const workflowData = {"apply_animation": {"src": "", "title": "apply_animation", "status": "fail", "duration": "10.10", "log": "Capturing execution frames: apply_animation.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [ComfyUI] Feature flags negotiated for client 3d3680262daa4c07b01ec5970e27b6fb: {'supports_preview_metadata': True, 'supports_manager_v4_ui': True}\n  [Console-error] Failed to load resource: the server responded with a status of 403 (Forbidden)\n  [Console-error] Error loading model: zy: fetch for \"http://127.0.0.1:8188/api/view?type=output&subfolder=%2Fhome%2Fubuntu%2Funirig%2FComfyUI%2Foutput&filename=rigged_human_mixamo_Breakdance.fbx\" responded with 403: Forbidden\n    at http://127.0.0.1:8188/assets/vendor-three-DH0o8VQ7.js:3824:114758\n  [Console-warning] [.WebGL-0x223c0072c000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels\n  [Console-error] Failed to load resource: the server responded with a status of 403 (Forbidden)\n  [Console-error] Error loading model: zy: fetch for \"http://127.0.0.1:8188/api/view?type=output&subfolder=%2Fhome%2Fubuntu%2Funirig%2FComfyUI%2Foutput&filename=rigged_human_mixamo_Breakdance.fbx\" responded with 403: Forbidden\n    at http://127.0.0.1:8188/assets/vendor-three-DH0o8VQ7.js:3824:114758\n  [Console-warning] [.WebGL-0x223c0072c000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels\n  [Console-warning] [.WebGL-0x223c0072c000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels\n  Validating workflow...\n  [ComfyUI] === /validate endpoint called ===\n  [Console-error] Failed to load resource: the server responded with a status of 400 (Bad Request)\n    Status: FAILED\n    Error: Workflow validation failed\n    Details: Prompt outputs failed validation\nNode errors:\n{\n  \"8\": {\n    \"errors\": [\n      {\n        \"type\": \"required_input_missing\",\n        \"message\": \"Required input is missing\",\n        \"details\": \"fbx_file\",\n        \"extra_info\": {\n          \"input_name\": \"fbx_file\"\n        }\n      }\n    ],\n    \"dependent_outputs\": [\n      \"6\",\n      \"7\"\n    ],\n    \"class_type\": \"UniRigLoadRiggedMesh\"\n  }\n}\n  [ComfyUI] Received JSON with keys: ['prompt']\n  [ComfyUI] Failed to validate prompt for output 6:\n  [ComfyUI] Prompt has 3 nodes\n  [ComfyUI] * UniRigLoadRiggedMesh 8:\n  [ComfyUI]   Node 6: UniRigApplyAnimation\n  [ComfyUI]   - Required input is missing: fbx_file\n  [ComfyUI]     Inputs: {\"model_fbx_path\": [\"8\", 0], \"animation_type\": \"mixamo\", \"animation_file\": \"Breakdance.fbx\", \"output_name\": \"\"}\n  [ComfyUI] Output will be ignored\n  [ComfyUI]   Node 7: Preview3D\n  [ComfyUI] Failed to validate prompt for output 7:\n  [ComfyUI]     Inputs: {\"model_file\": [\"6\", 0], \"image\": \"\"}\n  [ComfyUI] Output will be ignored\n  [ComfyUI]   Node 8: UniRigLoadRiggedMesh\n  [ComfyUI]     Inputs: {\"source_folder\": \"output\", \"refresh\": \"refresh\"}\n  [ComfyUI] Generated prompt_id: 246366be-6908-4cd0-9f45-f919e896352c\n  [ComfyUI] Calling execution.validate_prompt()...\n  [ComfyUI] Validation result: valid=False\n  [ComfyUI]   Error: {'type': 'prompt_outputs_failed_validation', 'message': 'Prompt outputs failed validation', 'details': '', 'extra_info': {}}\n  [ComfyUI]   Node errors: {\"8\": {\"errors\": [{\"type\": \"required_input_missing\", \"message\": \"Required input is missing\", \"details\": \"fbx_file\", \"extra_info\": {\"input_name\": \"fbx_file\"}}], \"dependent_outputs\": [\"6\", \"7\"], \"class_type\": \"UniRigLoadRiggedMesh\"}}", "hardware": {"os": "Windows-2025Server-10.0.26100-SP0", "cpu": "AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD"}}, "rig_human_with_texture": {"src": "", "title": "rig_human_with_texture", "status": "fail", "duration": "8.87", "log": "Capturing execution frames: rig_human_with_texture.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [ComfyUI] Feature flags negotiated for client 3d3680262daa4c07b01ec5970e27b6fb: {'supports_preview_metadata': True, 'supports_manager_v4_ui': True}\n  [Console-error] Failed to load resource: the server responded with a status of 403 (Forbidden)\n  [Console-error] Error loading model: zy: fetch for \"http://127.0.0.1:8188/api/view?type=output&subfolder=%2Fhome%2Fubuntu%2Funirig%2FComfyUI%2Foutput&filename=rigged_human_mixamo_Breakdance.fbx\" responded with 403: Forbidden\n    at http://127.0.0.1:8188/assets/vendor-three-DH0o8VQ7.js:3824:114758\n  [Console-warning] [.WebGL-0x223c07ca7800]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat)\n  [Console-error] Failed to load resource: the server responded with a status of 403 (Forbidden)\n  [Console-error] Error loading model: zy: fetch for \"http://127.0.0.1:8188/api/view?type=output&subfolder=%2Fhome%2Fubuntu%2Funirig%2FComfyUI%2Foutput&filename=rigged_human_mixamo_Breakdance.fbx\" responded with 403: Forbidden\n    at http://127.0.0.1:8188/assets/vendor-three-DH0o8VQ7.js:3824:114758\n  [Console-warning] WebGL: INVALID_OPERATION: loseContext: context already lost\n  Validating workflow...\n  [ComfyUI] === /validate endpoint called ===\n  [ComfyUI] Received JSON with keys: ['prompt']\n  [ComfyUI] Prompt has 4 nodes\n  [ComfyUI]   Node 10: UniRigPreviewRiggedMesh\n  [ComfyUI]     Inputs: {\"fbx_output_path\": [\"39\", 0], \"preview\": \"\"}\n  [ComfyUI]   Node 27: UniRigLoadMesh\n  [ComfyUI]     Inputs: {\"source_folder\": \"input\", \"file_path\": \"3d/realistic_male_character.glb\"}\n  [ComfyUI]   Node 39: UniRigAutoRig\n  [ComfyUI]     Inputs: {\"skeleton_template\": \"mixamo\", \"fbx_name\": \"\", \"target_face_count\": 50000, \"trimesh\": [\"27\", 0], \"model\": [\"40\", 0]}\n  [ComfyUI]   Node 40: UniRigLoadModel\n  [ComfyUI]     Inputs: {\"cache_to_gpu\": false}\n  [ComfyUI] Generated prompt_id: 04027fec-ca0d-47ce-8194-91e27765372a\n  [ComfyUI] Calling execution.validate_prompt()...\n  [ComfyUI] Validation result: valid=True\n  Queuing workflow for execution...\n  [ComfyUI] === Validation PASSED ===\n  [ComfyUI] got prompt\n  [ComfyUI] Using proactor: IocpProactor\n  [ComfyUI] Traceback (most recent call last):\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 177, in load_model\n  [ComfyUI]     task_config = _load_yaml_config(task_config_path)\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 98, in _load_yaml_config\n  [ComfyUI]     Box = _get_box()\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 16, in _get_box\n  [ComfyUI]     from box import Box\n  [ComfyUI] ModuleNotFoundError: No module named 'box'\n  [ComfyUI] Traceback (most recent call last):\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 341, in load_model\n  [ComfyUI]     task_config = _load_yaml_config(task_config_path)\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 98, in _load_yaml_config\n  [ComfyUI]     Box = _get_box()\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\model_loaders.py\", line 16, in _get_box\n  [ComfyUI]     from box import Box\n  [ComfyUI] ModuleNotFoundError: No module named 'box'\n  [ComfyUI] !!! Exception during processing !!! skeleton_model checkpoint not found. Please connect a UniRigLoadSkeletonModel node.\n  [ComfyUI] Traceback (most recent call last):\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 518, in execute\n  [ComfyUI]     output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 329, in get_output_data\n  [ComfyUI]     return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 303, in _async_map_node_over_list\n  [ComfyUI]     await process_inputs(input_dict, i)\n  [ComfyUI] [UniRigLoadModel] Loading UniRig models...\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 291, in process_inputs\n  [ComfyUI] [UniRigLoadModel] GPU caching: disabled\n  [ComfyUI]     result = f(**inputs)\n  [ComfyUI] [UniRigLoadSkeletonModel] Loading skeleton model: apozz/UniRig-safetensors\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\auto_rig.py\", line 89, in auto_rig\n  [ComfyUI] [UniRigLoadSkeletonModel] GPU caching: disabled (will offload to CPU)\n  [ComfyUI]     normalized_mesh, skeleton, texture_preview = skeleton_extractor.extract(\n  [ComfyUI] [UniRigLoadSkeletonModel] Error loading model: No module named 'box'\n  [ComfyUI]                                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~^\n  [ComfyUI]         trimesh=trimesh,\n  [ComfyUI] [UniRigLoadSkinningModel] Loading skinning model: apozz/UniRig-safetensors\n  [ComfyUI]         ^^^^^^^^^^^^^^^^\n  [ComfyUI] [UniRigLoadSkinningModel] GPU caching: disabled (will offload to CPU)\n  [ComfyUI] [UniRigLoadSkinningModel] Error loading model: No module named 'box'\n  [ComfyUI]     ...<3 lines>...\n  [ComfyUI] [UniRigLoadModel] Both models loaded successfully\n  [ComfyUI] [UniRigLoadMesh] Found mesh in input folder: 3d/realistic_male_character.glb\n  [ComfyUI]         target_face_count=target_face_count\n  [ComfyUI] [UniRigLoadMesh] File extension detected: '.glb'\n  [ComfyUI]         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI] [UniRigLoadMesh] Loading: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\input\\3d/realistic_male_character.glb\n  [ComfyUI] [UniRigLoadMesh] Loaded type: Scene\n  [ComfyUI]     )\n  [ComfyUI] [UniRigLoadMesh] Scene has 7 geometries\n  [ComfyUI]     ^\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0': visual type = TextureVisuals\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\skeleton_extraction.py\", line 310, in extract\n  [ComfyUI]     raise RuntimeError(\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI]     ...<2 lines>...\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_1': visual type = TextureVisuals\n  [ComfyUI]     )\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] RuntimeError: skeleton_model checkpoint not found. Please connect a UniRigLoadSkeletonModel node.\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] \n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_2': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_3': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_4': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_5': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_6': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh] Converting Scene to single mesh (scene has 7 geometries)\n  [ComfyUI] [UniRigLoadMesh] After dump(): visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh] After dump(): material = PBRMaterial\n  [ComfyUI] [UniRigLoadMesh] Initial mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Visual type: TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]   Has UV coords: (394992, 2)\n  [ComfyUI] [UniRigLoadMesh]   Material type: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]   Has baseColorTexture!\n  [ComfyUI] [UniRigLoadMesh] Successfully loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigAutoRig] Starting complete rigging pipeline...\n  [ComfyUI] [UniRigAutoRig] Skeleton template: mixamo\n  [ComfyUI] [UniRigAutoRig] Step 1/2: Extracting skeleton...\n  [ComfyUI] [UniRigExtractSkeletonNew] Starting skeleton extraction (cached model only)...\n  [ComfyUI] [UniRigExtractSkeletonNew] Skeleton template: mixamo\n  [ComfyUI] [UniRigExtractSkeletonNew] Mixamo requested, using vroid extraction + name remapping\n  [ComfyUI] Prompt executed in 1.29 seconds\n  Execution error: {'prompt_id': 'd1838bc5-363f-4b38-adf5-e3405260265a', 'node_id': '39', 'node_type': 'UniRigAutoRig', 'executed': ['40', '27'], 'exception_message': 'skeleton_model checkpoint not found. Please connect a UniRigLoadSkeletonModel node.\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\auto_rig.py\", line 89, in auto_rig\\n    normalized_mesh, skeleton, texture_preview = skeleton_extractor.extract(\\n                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~^\\n        trimesh=trimesh,\\n        ^^^^^^^^^^^^^^^^\\n    ...<3 lines>...\\n        target_face_count=target_face_count\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\skeleton_extraction.py\", line 310, in extract\\n    raise RuntimeError(\\n    ...<2 lines>...\\n    )\\n'], 'current_inputs': {'skeleton_template': ['mixamo'], 'fbx_name': [''], 'target_face_count': [50000], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'skeleton_model': {'type': 'skeleton', 'model_id': 'apozz/UniRig-safetensors', 'task_config_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig\\\\\\\\configs/task/quick_inference_skeleton_articulationxl_ar_256.yaml', 'unirig_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig', 'models_dir': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\models\\\\\\\\unirig', 'cached': False, 'model_cache_key': None}, 'skinning_model': {'type': 'skinning', 'model_id': 'apozz/UniRig-safetensors', 'task_config_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig\\\\\\\\configs/task/quick_inference_unirig_skin.yaml', 'unirig_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig', 'models_dir': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\models\\\\\\\\unirig', 'cached': False, 'model_cache_key': None}, 'model_id': 'apozz/UniRig-safetensors', 'cache_to_gpu': False}\"]}, 'current_outputs': ['40', '27', '10', '39'], 'timestamp': 1769792095644}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': 'd1838bc5-363f-4b38-adf5-e3405260265a', 'node_id': '39', 'node_type': 'UniRigAutoRig', 'executed': ['40', '27'], 'exception_message': 'skeleton_model checkpoint not found. Please connect a UniRigLoadSkeletonModel node.\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\auto_rig.py\", line 89, in auto_rig\\n    normalized_mesh, skeleton, texture_preview = skeleton_extractor.extract(\\n                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~^\\n        trimesh=trimesh,\\n        ^^^^^^^^^^^^^^^^\\n    ...<3 lines>...\\n        target_face_count=target_face_count\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\skeleton_extraction.py\", line 310, in extract\\n    raise RuntimeError(\\n    ...<2 lines>...\\n    )\\n'], 'current_inputs': {'skeleton_template': ['mixamo'], 'fbx_name': [''], 'target_face_count': [50000], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'skeleton_model': {'type': 'skeleton', 'model_id': 'apozz/UniRig-safetensors', 'task_config_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig\\\\\\\\configs/task/quick_inference_skeleton_articulationxl_ar_256.yaml', 'unirig_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig', 'models_dir': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\models\\\\\\\\unirig', 'cached': False, 'model_cache_key': None}, 'skinning_model': {'type': 'skinning', 'model_id': 'apozz/UniRig-safetensors', 'task_config_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig\\\\\\\\configs/task/quick_inference_unirig_skin.yaml', 'unirig_path': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\custom_nodes\\\\\\\\ComfyUI-UniRig\\\\\\\\nodes\\\\\\\\unirig', 'models_dir': 'D:\\\\\\\\a\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI-UniRig\\\\\\\\ComfyUI\\\\\\\\models\\\\\\\\unirig', 'cached': False, 'model_cache_key': None}, 'model_id': 'apozz/UniRig-safetensors', 'cache_to_gpu': False}\"]}, 'current_outputs': ['40', '27', '10', '39'], 'timestamp': 1769792095644}\n    Details: Workflow: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\workflows\\rig_human_with_texture.json\nNode error: UniRigAutoRig", "hardware": {"os": "Windows-2025Server-10.0.26100-SP0", "cpu": "AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD"}}, "rig_human_with_texture_mia": {"src": "", "title": "rig_human_with_texture_mia", "status": "fail", "duration": "10.33", "log": "Capturing execution frames: rig_human_with_texture_mia.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [ComfyUI] Feature flags negotiated for client 3d3680262daa4c07b01ec5970e27b6fb: {'supports_preview_metadata': True, 'supports_manager_v4_ui': True}\n  Validating workflow...\n  [ComfyUI] === /validate endpoint called ===\n  [ComfyUI] Received JSON with keys: ['prompt']\n  [ComfyUI] Prompt has 9 nodes\n  [ComfyUI]   Node 10: UniRigPreviewRiggedMesh\n  [ComfyUI]     Inputs: {\"fbx_output_path\": [\"42\", 0], \"preview\": \"\"}\n  [ComfyUI]   Node 27: UniRigLoadMesh\n  [ComfyUI]     Inputs: {\"source_folder\": \"input\", \"file_path\": \"3d/realistic_male_character.glb\"}\n  [ComfyUI]   Node 41: MIALoadModel\n  [ComfyUI]     Inputs: {\"cache_to_gpu\": true}\n  [ComfyUI]   Node 42: MIAAutoRig\n  [ComfyUI]     Inputs: {\"fbx_name\": \"rigatoni\", \"no_fingers\": false, \"use_normal\": false, \"reset_to_rest\": true, \"trimesh\": [\"45\", 0], \"model\": [\"41\", 0]}\n  [ComfyUI]   Node 43: UniRigOrientationCheck\n  [ComfyUI]     Inputs: {\"max_height\": 512, \"mesh\": [\"45\", 0]}\n  [ComfyUI]   Node 44: PreviewImage\n  [ComfyUI]     Inputs: {\"images\": [\"43\", 0]}\n  [ComfyUI]   Node 45: GeomPackTransformMesh\n  [ComfyUI]     Inputs: {\"operation\": \"rotate\", \"translate_x\": 0, \"translate_y\": -90, \"translate_z\": 0, \"rotate_x\": 0, \"rotate_y\": 0, \"rotate_z\": 0, \"scale_uniform\": 1, \"scale_x\": 1, \"scale_y\": 1, \"scale_z\": 1, \"mirror_axis\"\n  [ComfyUI]   Node 46: UniRigOrientationCheck\n  [ComfyUI]     Inputs: {\"max_height\": 512, \"mesh\": [\"27\", 0]}\n  Queuing workflow for execution...\n  [ComfyUI]   Node 47: PreviewImage\n  [ComfyUI]     Inputs: {\"images\": [\"46\", 0]}\n  [ComfyUI] Generated prompt_id: df9fed7f-6798-4c6b-9e69-58c058413523\n  [ComfyUI] Calling execution.validate_prompt()...\n  [ComfyUI] Validation result: valid=True\n  [ComfyUI] === Validation PASSED ===\n  [ComfyUI] got prompt\n  [ComfyUI] Using proactor: IocpProactor\n  [ComfyUI] !!! Exception during processing !!! No module named 'mia_inference'\n  [ComfyUI] Traceback (most recent call last):\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 518, in execute\n  [ComfyUI]     output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 329, in get_output_data\n  [ComfyUI]     return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 303, in _async_map_node_over_list\n  [ComfyUI]     await process_inputs(input_dict, i)\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 291, in process_inputs\n  [ComfyUI]     result = f(**inputs)\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\mia_auto_rig.py\", line 81, in auto_rig\n  [ComfyUI]     from mia_inference import load_mia_models, get_cached_models, run_mia_inference\n  [ComfyUI] ModuleNotFoundError: No module named 'mia_inference'\n  [ComfyUI] \n  [ComfyUI] [UniRigLoadMesh] Found mesh in input folder: 3d/realistic_male_character.glb\n  [ComfyUI] [UniRigLoadMesh] File extension detected: '.glb'\n  [ComfyUI] [UniRigLoadMesh] Loading: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\input\\3d/realistic_male_character.glb\n  [ComfyUI] [UniRigLoadMesh] Loaded type: Scene\n  [ComfyUI] [UniRigLoadMesh] Scene has 7 geometries\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_1': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_2': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_3': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_4': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_5': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_6': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh] Converting Scene to single mesh (scene has 7 geometries)\n  [ComfyUI] [UniRigLoadMesh] After dump(): visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh] After dump(): material = PBRMaterial\n  [ComfyUI] [UniRigLoadMesh] Initial mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Visual type: TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]   Has UV coords: (394992, 2)\n  [ComfyUI] [UniRigLoadMesh]   Material type: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]   Has baseColorTexture!\n  [ComfyUI] [UniRigLoadMesh] Successfully loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [OrientationCheck] Checking mesh orientation...\n  [ComfyUI] [OrientationCheck] Mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [OrientationCheck] Dimensions: X=0.251, Y=1.000, Z=0.928\n  [ComfyUI] [OrientationCheck] Tallest axis: Y\n  [ComfyUI] [OrientationCheck] [OK] Orientation appears correct (Y-up)\n  [ComfyUI] [OrientationCheck] Reference mesh not found: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\assets\\FinalBaseMesh.obj\n  [ComfyUI] [OrientationCheck] Reference not available, rendering single view\n  [ComfyUI] [OrientationCheck] Pyrender failed: ('Unable to load OpenGL library', \"Could not find module 'OSMesa' (or one of its dependencies). Try using the full path with constructor syntax.\", 'OSMesa', None), using wireframe fallback\n  [ComfyUI] [OrientationCheck] Done. Output shape: torch.Size([1, 512, 128, 3])\n  [ComfyUI] [Transform] Input: 394992 vertices, 642547 faces\n  [ComfyUI] [Transform] Operation: rotate\n  [ComfyUI] [Transform] Complete\n  [ComfyUI] [OrientationCheck] Checking mesh orientation...\n  [ComfyUI] [OrientationCheck] Mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [OrientationCheck] Dimensions: X=0.251, Y=1.000, Z=0.928\n  [ComfyUI] [OrientationCheck] Tallest axis: Y\n  [ComfyUI] [OrientationCheck] [OK] Orientation appears correct (Y-up)\n  [ComfyUI] [OrientationCheck] Reference mesh not found: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\assets\\FinalBaseMesh.obj\n  [ComfyUI] [OrientationCheck] Reference not available, rendering single view\n  [ComfyUI] [OrientationCheck] Pyrender failed: ('Unable to load OpenGL library', \"Could not find module 'OSMesa' (or one of its dependencies). Try using the full path with constructor syntax.\", 'OSMesa', None), using wireframe fallback\n  [ComfyUI] [OrientationCheck] Done. Output shape: torch.Size([1, 512, 128, 3])\n  [ComfyUI] [MIALoadModel] MIA config: cache_to_gpu=True\n  [ComfyUI] Prompt executed in 3.98 seconds\n  Execution error: {'prompt_id': '0b3740f4-1da1-4d10-8c88-13f3fc5b54f4', 'node_id': '42', 'node_type': 'MIAAutoRig', 'executed': ['45', '44', '46', '43', '41', '47', '27'], 'exception_message': \"No module named 'mia_inference'\\n\", 'exception_type': 'ModuleNotFoundError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\mia_auto_rig.py\", line 81, in auto_rig\\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\\n'], 'current_inputs': {'fbx_name': ['rigatoni'], 'no_fingers': [False], 'use_normal': [False], 'reset_to_rest': [True], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'backend': 'mia', 'cache_to_gpu': True}\"]}, 'current_outputs': ['45', '44', '42', '10', '46', '43', '47', '41', '27'], 'timestamp': 1769792106113}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': '0b3740f4-1da1-4d10-8c88-13f3fc5b54f4', 'node_id': '42', 'node_type': 'MIAAutoRig', 'executed': ['45', '44', '46', '43', '41', '47', '27'], 'exception_message': \"No module named 'mia_inference'\\n\", 'exception_type': 'ModuleNotFoundError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\mia_auto_rig.py\", line 81, in auto_rig\\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\\n'], 'current_inputs': {'fbx_name': ['rigatoni'], 'no_fingers': [False], 'use_normal': [False], 'reset_to_rest': [True], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'backend': 'mia', 'cache_to_gpu': True}\"]}, 'current_outputs': ['45', '44', '42', '10', '46', '43', '47', '41', '27'], 'timestamp': 1769792106113}\n    Details: Workflow: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\workflows\\rig_human_with_texture_mia.json\nNode error: MIAAutoRig", "hardware": {"os": "Windows-2025Server-10.0.26100-SP0", "cpu": "AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD"}}, "rig_human_with_texture_mia_debug": {"src": "", "title": "rig_human_with_texture_mia_debug", "status": "fail", "duration": "8.31", "log": "Capturing execution frames: rig_human_with_texture_mia_debug.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [ComfyUI] Feature flags negotiated for client 3d3680262daa4c07b01ec5970e27b6fb: {'supports_preview_metadata': True, 'supports_manager_v4_ui': True}\n  Validating workflow...\n  [ComfyUI] === /validate endpoint called ===\n  [ComfyUI] Received JSON with keys: ['prompt']\n  [ComfyUI] Prompt has 11 nodes\n  [ComfyUI]   Node 27: UniRigLoadMesh\n  [ComfyUI]     Inputs: {\"source_folder\": \"input\", \"file_path\": \"3d/realistic_male_character.glb\"}\n  [ComfyUI]   Node 41: MIALoadModel\n  [ComfyUI]     Inputs: {\"cache_to_gpu\": true}\n  [ComfyUI]   Node 42: MIAAutoRig\n  Queuing workflow for execution...\n  [ComfyUI]     Inputs: {\"fbx_name\": \"rigatoni\", \"no_fingers\": false, \"use_normal\": false, \"reset_to_rest\": true, \"trimesh\": [\"45\", 0], \"model\": [\"41\", 0]}\n  [ComfyUI]   Node 43: UniRigOrientationCheck\n  [ComfyUI]     Inputs: {\"max_height\": 512, \"mesh\": [\"45\", 0]}\n  [ComfyUI]   Node 44: PreviewImage\n  [ComfyUI]     Inputs: {\"images\": [\"43\", 0]}\n  [ComfyUI]   Node 45: GeomPackTransformMesh\n  [ComfyUI]     Inputs: {\"operation\": \"rotate\", \"translate_x\": 0, \"translate_y\": 0, \"translate_z\": 0, \"rotate_x\": 0, \"rotate_y\": 0, \"rotate_z\": 0, \"scale_uniform\": 1, \"scale_x\": 1, \"scale_y\": 1, \"scale_z\": 1, \"mirror_axis\":\n  [ComfyUI]   Node 46: UniRigOrientationCheck\n  [ComfyUI]     Inputs: {\"max_height\": 512, \"mesh\": [\"27\", 0]}\n  [ComfyUI]   Node 47: PreviewImage\n  [ComfyUI]     Inputs: {\"images\": [\"46\", 0]}\n  [ComfyUI]   Node 49: UniRigCompareSkeletons\n  [ComfyUI]     Inputs: {\"fbx_path_left\": [\"42\", 0], \"fbx_path_right\": [\"51\", 0], \"preview\": \"\"}\n  [ComfyUI]   Node 50: UniRigLoadMesh\n  [ComfyUI]     Inputs: {\"source_folder\": \"input\", \"file_path\": \"3d/mixamo.fbx\"}\n  [ComfyUI]   Node 51: PrimitiveString\n  [ComfyUI]     Inputs: {\"value\": \"/home/shadeform/unirig/ComfyUI/input/3d/mixamo.fbx\"}\n  [ComfyUI] Generated prompt_id: b7d7a4f3-faac-441c-97ae-b92c25688774\n  [ComfyUI] Calling execution.validate_prompt()...\n  [ComfyUI] Validation result: valid=True\n  [ComfyUI] === Validation PASSED ===\n  [ComfyUI] got prompt\n  [ComfyUI] Using proactor: IocpProactor\n  [ComfyUI] !!! Exception during processing !!! No module named 'mia_inference'\n  [ComfyUI] Traceback (most recent call last):\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 518, in execute\n  [ComfyUI]     output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 329, in get_output_data\n  [ComfyUI]     return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n  [ComfyUI]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 303, in _async_map_node_over_list\n  [ComfyUI] [MIALoadModel] MIA config: cache_to_gpu=True\n  [ComfyUI]     await process_inputs(input_dict, i)\n  [ComfyUI] [UniRigLoadMesh] Found mesh in input folder: 3d/realistic_male_character.glb\n  [ComfyUI] [UniRigLoadMesh] File extension detected: '.glb'\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\execution.py\", line 291, in process_inputs\n  [ComfyUI] [UniRigLoadMesh] Loading: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\input\\3d/realistic_male_character.glb\n  [ComfyUI]     result = f(**inputs)\n  [ComfyUI]   File \"D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\nodes\\mia_auto_rig.py\", line 81, in auto_rig\n  [ComfyUI] [UniRigLoadMesh] Loaded type: Scene\n  [ComfyUI]     from mia_inference import load_mia_models, get_cached_models, run_mia_inference\n  [ComfyUI] [UniRigLoadMesh] Scene has 7 geometries\n  [ComfyUI] ModuleNotFoundError: No module named 'mia_inference'\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0': visual type = TextureVisuals\n  [ComfyUI] \n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_1': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_2': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_3': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_4': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_5': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh]   Geometry 'tripo_node_d0bcade7_tripo_mat_d0bcade7_0_6': visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]     Material: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]     Has baseColorTexture: yes\n  [ComfyUI] [UniRigLoadMesh] Converting Scene to single mesh (scene has 7 geometries)\n  [ComfyUI] [UniRigLoadMesh] After dump(): visual type = TextureVisuals\n  [ComfyUI] [UniRigLoadMesh] After dump(): material = PBRMaterial\n  [ComfyUI] [UniRigLoadMesh] Initial mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Visual type: TextureVisuals\n  [ComfyUI] [UniRigLoadMesh]   Has UV coords: (394992, 2)\n  [ComfyUI] [UniRigLoadMesh]   Material type: PBRMaterial\n  [ComfyUI] [UniRigLoadMesh]   Has baseColorTexture!\n  [ComfyUI] [UniRigLoadMesh] Successfully loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [UniRigLoadMesh] Loaded: 394992 vertices, 642547 faces\n  [ComfyUI] [OrientationCheck] Checking mesh orientation...\n  [ComfyUI] [OrientationCheck] Mesh: 394992 vertices, 642547 faces\n  [ComfyUI] [OrientationCheck] Dimensions: X=0.251, Y=1.000, Z=0.928\n  [ComfyUI] [OrientationCheck] Tallest axis: Y\n  [ComfyUI] [OrientationCheck] [OK] Orientation appears correct (Y-up)\n  [ComfyUI] [OrientationCheck] Reference mesh not found: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\assets\\FinalBaseMesh.obj\n  [ComfyUI] [OrientationCheck] Reference not available, rendering single view\n  [ComfyUI] [OrientationCheck] Pyrender failed: ('Unable to load OpenGL library', \"Could not find module 'OSMesa' (or one of its dependencies). Try using the full path with constructor syntax.\", 'OSMesa', None), using wireframe fallback\n  [ComfyUI] [OrientationCheck] Done. Output shape: torch.Size([1, 512, 128, 3])\n  [ComfyUI] [Transform] Input: 394992 vertices, 642547 faces\n  [ComfyUI] [Transform] Operation: rotate\n  [ComfyUI] [Transform] Complete\n  [ComfyUI] Prompt executed in 1.55 seconds\n  Execution error: {'prompt_id': '32711684-c48d-4b40-9495-62649359327b', 'node_id': '42', 'node_type': 'MIAAutoRig', 'executed': ['45', '46', '47', '51', '41', '27'], 'exception_message': \"No module named 'mia_inference'\\n\", 'exception_type': 'ModuleNotFoundError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\mia_auto_rig.py\", line 81, in auto_rig\\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\\n'], 'current_inputs': {'fbx_name': ['rigatoni'], 'no_fingers': [False], 'use_normal': [False], 'reset_to_rest': [True], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'backend': 'mia', 'cache_to_gpu': True}\"]}, 'current_outputs': ['49', '50', '27', '45', '42', '46', '43', '47', '51', '41', '44'], 'timestamp': 1769792114548}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': '32711684-c48d-4b40-9495-62649359327b', 'node_id': '42', 'node_type': 'MIAAutoRig', 'executed': ['45', '46', '47', '51', '41', '27'], 'exception_message': \"No module named 'mia_inference'\\n\", 'exception_type': 'ModuleNotFoundError', 'traceback': ['  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 518, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 329, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 303, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\execution.py\", line 291, in process_inputs\\n    result = f(**inputs)\\n', '  File \"D:\\\\a\\\\ComfyUI-UniRig\\\\ComfyUI-UniRig\\\\ComfyUI\\\\custom_nodes\\\\ComfyUI-UniRig\\\\nodes\\\\mia_auto_rig.py\", line 81, in auto_rig\\n    from mia_inference import load_mia_models, get_cached_models, run_mia_inference\\n'], 'current_inputs': {'fbx_name': ['rigatoni'], 'no_fingers': [False], 'use_normal': [False], 'reset_to_rest': [True], 'trimesh': ['<trimesh.Trimesh(vertices.shape=(394992, 3), faces.shape=(642547, 3), name=`realistic_male_character.glb`)>'], 'model': [\"{'backend': 'mia', 'cache_to_gpu': True}\"]}, 'current_outputs': ['49', '50', '27', '45', '42', '46', '43', '47', '51', '41', '44'], 'timestamp': 1769792114548}\n    Details: Workflow: D:\\a\\ComfyUI-UniRig\\ComfyUI-UniRig\\ComfyUI\\custom_nodes\\ComfyUI-UniRig\\workflows\\rig_human_with_texture_mia_debug.json\nNode error: MIAAutoRig", "hardware": {"os": "Windows-2025Server-10.0.26100-SP0", "cpu": "AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD"}}, "rigged_manipulator": {"src": "", "title": "rigged_manipulator", "status": "fail", "duration": "6.03", "log": "Capturing execution frames: rigged_manipulator.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [ComfyUI] Feature flags negotiated for client 3d3680262daa4c07b01ec5970e27b6fb: {'supports_preview_metadata': True, 'supports_manager_v4_ui': True}\n  Validating workflow...\n  [ComfyUI] === /validate endpoint called ===\n  [ComfyUI] Failed to validate prompt for output 3:\n  [Console-error] Failed to load resource: the server responded with a status of 400 (Bad Request)\n  [ComfyUI] Received JSON with keys: ['prompt']\n  [ComfyUI] * UniRigLoadRiggedMesh 1:\n    Status: FAILED\n    Error: Workflow validation failed\n    Details: Prompt outputs failed validation\nNode errors:\n{\n  \"1\": {\n    \"errors\": [\n      {\n        \"type\": \"required_input_missing\",\n        \"message\": \"Required input is missing\",\n        \"details\": \"fbx_file\",\n        \"extra_info\": {\n          \"input_name\": \"fbx_file\"\n        }\n      }\n    ],\n    \"dependent_outputs\": [\n      \"3\"\n    ],\n    \"class_type\": \"UniRigLoadRiggedMesh\"\n  }\n}\n  [ComfyUI] Prompt has 2 nodes\n  [ComfyUI]   - Required input is missing: fbx_file\n  [ComfyUI]   Node 1: UniRigLoadRiggedMesh\n  [ComfyUI] Output will be ignored\n  [ComfyUI]     Inputs: {\"source_folder\": \"output\", \"refresh\": \"refresh\"}\n  [ComfyUI]   Node 3: UniRigPreviewRiggedMesh\n  [ComfyUI]     Inputs: {\"fbx_output_path\": [\"1\", 0], \"preview\": \"\"}\n  [ComfyUI] Generated prompt_id: 1c3ba5b7-67af-4e59-817b-0f55948a24bc\n  [ComfyUI] Calling execution.validate_prompt()...\n  [ComfyUI] Validation result: valid=False\n  [ComfyUI]   Error: {'type': 'prompt_outputs_failed_validation', 'message': 'Prompt outputs failed validation', 'details': '', 'extra_info': {}}\n  [ComfyUI]   Node errors: {\"1\": {\"errors\": [{\"type\": \"required_input_missing\", \"message\": \"Required input is missing\", \"details\": \"fbx_file\", \"extra_info\": {\"input_name\": \"fbx_file\"}}], \"dependent_outputs\": [\"3\"], \"class_type\": \"UniRigLoadRiggedMesh\"}}\n  [ComfyUI] === Validation FAILED ===", "hardware": {"os": "Windows-2025Server-10.0.26100-SP0", "cpu": "AMD64 Family 25 Model 1 Stepping 1, AuthenticAMD"}}};

        // Store video metadata (frames with timestamps and logs)
        const videoData = {};

        // Video player state
        let currentWorkflow = null;
        let playInterval = null;
        let originalLogContent = '';

        // Current frame data for video player
        let currentFrameIndex = 0;
        let currentFrames = [];
        let currentTotalTime = 0;

        function openLightboxByName(name) {
            const w = workflowData[name];
            if (w) openLightbox(w.src, w.title, w.status, w.duration, w.log, w.hardware);
        }

        function openLightbox(src, title, status, duration, logContent, hardware) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox-title').textContent = title;
            currentWorkflow = title;
            originalLogContent = logContent;

            const badge = document.getElementById('lightbox-badge');
            badge.textContent = status;
            badge.className = 'lightbox-badge ' + status;

            document.getElementById('lightbox-duration').textContent = duration + 's';
            document.getElementById('lightbox-log').textContent = logContent || '(No log available)';

            // Display hardware info
            const hwEl = document.getElementById('lightbox-hardware');
            if (hardware) {
                const parts = [];
                if (hardware.os) parts.push(hardware.os);
                if (hardware.cpu) parts.push(hardware.cpu);
                if (hardware.gpu) parts.push(hardware.gpu);
                hwEl.textContent = parts.join(' | ');
            } else {
                hwEl.textContent = status === 'skipped' ? '(Did not run on this machine)' : '';
            }

            // Setup video player if video data exists
            const data = videoData[title];
            const videoPlayer = document.getElementById('video-player');

            if (data && data.frames && data.frames.length > 1) {
                currentFrames = data.frames;
                currentTotalTime = data.total_time || data.frames[data.frames.length - 1].time;
                setupVideoSlider(data.frames, currentTotalTime);
                updateVideoFrameByIndex(title, data.frames.length - 1);
                videoPlayer.classList.add('active');
            } else {
                videoPlayer.classList.remove('active');
            }

            // Load resource graph
            loadResourceGraph(title);

            document.getElementById('lightbox').classList.add('active');
            history.replaceState(null, '', '#' + encodeURIComponent(title));
        }

        function buildSliderRange(frames, totalTime) {
            // Build noUiSlider range with frames at their time percentages
            const range = { 'min': frames[0].time };
            frames.forEach((frame, idx) => {
                if (idx > 0 && idx < frames.length - 1) {
                    const pct = (frame.time / totalTime * 100).toFixed(1) + '%';
                    range[pct] = frame.time;
                }
            });
            range['max'] = frames[frames.length - 1].time;
            return range;
        }

        function setupVideoSlider(frames, totalTime) {
            const sliderEl = document.getElementById('video-slider');

            // Destroy existing slider if any
            if (sliderEl.noUiSlider) {
                sliderEl.noUiSlider.destroy();
            }

            const range = buildSliderRange(frames, totalTime);

            noUiSlider.create(sliderEl, {
                start: frames[frames.length - 1].time,
                snap: true,
                range: range,
                pips: {
                    mode: 'range',
                    density: 100
                }
            });

            sliderEl.noUiSlider.on('update', function(values) {
                const time = parseFloat(values[0]);
                const frameIdx = frames.findIndex(f => Math.abs(f.time - time) < 0.01);
                if (frameIdx >= 0 && frameIdx !== currentFrameIndex) {
                    currentFrameIndex = frameIdx;
                    showFrame(currentWorkflow, frameIdx);
                }
            });
        }

        function showFrame(workflowName, frameIndex) {
            const data = videoData[workflowName];
            if (!data || !data.frames) return;

            const frame = data.frames[frameIndex];
            const img = document.getElementById('lightbox-img');

            // Use high-quality screenshot for the last frame
            const isLastFrame = frameIndex === data.frames.length - 1;
            if (isLastFrame && workflowData[workflowName] && workflowData[workflowName].src) {
                img.src = workflowData[workflowName].src;
            } else {
                img.src = 'videos/' + workflowName + '/' + frame.file;
            }

            const counter = document.getElementById('video-frame-counter');
            const totalTime = data.total_time || data.frames[data.frames.length - 1].time;
            counter.textContent = frame.time.toFixed(1) + 's / ' + totalTime.toFixed(1) + 's';

            const logEl = document.getElementById('lightbox-log');
            if (frame.log) {
                logEl.textContent = frame.log;
                logEl.scrollTop = logEl.scrollHeight;
            }
        }

        function updateVideoFrameByIndex(workflowName, frameIndex) {
            currentFrameIndex = frameIndex;
            showFrame(workflowName, frameIndex);

            // Update slider position
            const sliderEl = document.getElementById('video-slider');
            if (sliderEl.noUiSlider && currentFrames[frameIndex]) {
                sliderEl.noUiSlider.set(currentFrames[frameIndex].time);
            }
        }

        function toggleVideoPlay() {
            const btn = document.getElementById('video-play-btn');
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
                btn.innerHTML = '&#9654; Play';
            } else {
                btn.innerHTML = '&#9632; Stop';
                playInterval = setInterval(() => {
                    if (!currentFrames.length) return;
                    currentFrameIndex = (currentFrameIndex + 1) % currentFrames.length;
                    updateVideoFrameByIndex(currentWorkflow, currentFrameIndex);
                }, 500);
            }
        }

        async function loadResourceGraph(workflowName) {
            const graphContainer = document.getElementById('resource-graph');
            const canvas = document.getElementById('resource-canvas');
            const gpuLegend = document.getElementById('gpu-legend');

            try {
                // Fetch CSV from logs folder
                const csvResponse = await fetch('logs/' + workflowName + '_resources.csv');

                if (!csvResponse.ok) {
                    graphContainer.classList.remove('active');
                    return;
                }

                const text = await csvResponse.text();
                const allLines = text.trim().split('\n');

                // Parse metadata from first line comment: # cpu_count=X,total_ram_gb=Y
                let cpuCount = 8, totalRamGb = 32;
                if (allLines[0].startsWith('#')) {
                    const metaMatch = allLines[0].match(/cpu_count=(\d+),total_ram_gb=([\d.]+)/);
                    if (metaMatch) {
                        cpuCount = parseInt(metaMatch[1]);
                        totalRamGb = parseFloat(metaMatch[2]);
                    }
                }

                // Skip comment and header lines
                const dataLines = allLines.slice(2);

                if (dataLines.length < 2) {
                    graphContainer.classList.remove('active');
                    return;
                }

                // Parse CSV (t,cpu_cores,ram_gb,gpu_pct)
                const data = dataLines.map(line => {
                    const [t, cpu, ram, gpu] = line.split(',');
                    return {
                        t: parseFloat(t),
                        cpu: parseFloat(cpu),  // cores
                        ram: parseFloat(ram),  // GB
                        gpu: gpu ? parseFloat(gpu) : null  // %
                    };
                });

                // Check if we have GPU data
                const hasGpu = data.some(d => d.gpu !== null);
                gpuLegend.style.display = hasGpu ? 'flex' : 'none';

                // Make container visible BEFORE measuring canvas
                graphContainer.classList.add('active');
                await new Promise(r => setTimeout(r, 10));

                // Draw the graph
                const ctx = canvas.getContext('2d');
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.scale(dpr, dpr);

                const w = rect.width;
                const h = rect.height;
                const padding = { top: 10, right: 40, bottom: 20, left: 45 };
                const graphW = w - padding.left - padding.right;
                const graphH = h - padding.top - padding.bottom;

                ctx.clearRect(0, 0, w, h);

                // Calculate max values for scaling
                const maxCpu = Math.max(...data.map(d => d.cpu), cpuCount * 0.5);
                const maxRam = Math.max(...data.map(d => d.ram), totalRamGb * 0.5);
                const maxTime = data[data.length - 1].t;

                // Draw grid lines
                ctx.strokeStyle = '#1a3a5c';
                ctx.lineWidth = 0.5;
                for (let i = 1; i < 4; i++) {
                    const y = padding.top + (graphH * i / 4);
                    ctx.beginPath();
                    ctx.moveTo(padding.left, y);
                    ctx.lineTo(w - padding.right, y);
                    ctx.stroke();
                }

                // Draw axes
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding.left, padding.top);
                ctx.lineTo(padding.left, h - padding.bottom);
                ctx.lineTo(w - padding.right, h - padding.bottom);
                ctx.lineTo(w - padding.right, padding.top);
                ctx.stroke();

                // Y-axis labels - LEFT (CPU cores, blue)
                ctx.fillStyle = '#4da6ff';
                ctx.font = '9px sans-serif';
                ctx.textAlign = 'right';
                const cpuMax = Math.ceil(maxCpu);
                ctx.fillText(cpuMax + ' cores', padding.left - 3, padding.top + 4);
                ctx.fillText('0', padding.left - 3, h - padding.bottom + 4);

                // Y-axis labels - RIGHT (RAM GB, green)
                ctx.fillStyle = '#22c55e';
                ctx.textAlign = 'left';
                const ramMax = Math.ceil(maxRam);
                ctx.fillText(ramMax + ' GB', w - padding.right + 3, padding.top + 4);
                ctx.fillText('0', w - padding.right + 3, h - padding.bottom + 4);

                // X-axis labels (time)
                ctx.fillStyle = '#666';
                ctx.textAlign = 'center';
                ctx.fillText('0s', padding.left, h - padding.bottom + 12);
                ctx.fillText(maxTime.toFixed(0) + 's', w - padding.right, h - padding.bottom + 12);

                // Draw line helper
                function drawLine(values, maxVal, color) {
                    if (values.every(v => v === null || isNaN(v))) return;
                    ctx.strokeStyle = color;
                    ctx.lineWidth = 1.5;
                    ctx.beginPath();
                    let started = false;
                    data.forEach((d, i) => {
                        const val = values[i];
                        if (val === null || isNaN(val)) return;
                        const x = padding.left + (d.t / maxTime) * graphW;
                        const y = padding.top + (1 - val / maxVal) * graphH;
                        if (!started) {
                            ctx.moveTo(x, y);
                            started = true;
                        } else {
                            ctx.lineTo(x, y);
                        }
                    });
                    ctx.stroke();
                }

                // Draw lines (CPU uses left scale, RAM uses right scale)
                drawLine(data.map(d => d.cpu), cpuMax, '#4da6ff');  // CPU cores - blue
                drawLine(data.map(d => d.ram), ramMax, '#22c55e');  // RAM GB - green
                if (hasGpu) {
                    drawLine(data.map(d => d.gpu), 100, '#f97316');  // GPU % - orange
                }
            } catch (e) {
                console.error('Resource graph error:', e);
                graphContainer.classList.remove('active');
            }
        }

        function closeLightbox() {
            // Stop video playback
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
                document.getElementById('video-play-btn').innerHTML = '&#9654; Play';
            }
            document.getElementById('resource-graph').classList.remove('active');
            document.getElementById('lightbox').classList.remove('active');
            // Clear hash
            history.replaceState(null, '', window.location.pathname);
        }

        document.getElementById('lightbox').onclick = (e) => {
            if (e.target.id === 'lightbox') closeLightbox();
        };

        document.onkeydown = (e) => {
            if (e.key === 'Escape') closeLightbox();
        };

        // Handle hash on page load and hash change
        function openFromHash() {
            const hash = decodeURIComponent(window.location.hash.slice(1));
            if (hash && workflowData[hash]) {
                const w = workflowData[hash];
                openLightbox(w.src, w.title, w.status, w.duration, w.log, w.hardware);
            }
        }

        window.addEventListener('hashchange', openFromHash);
        window.addEventListener('load', openFromHash);
    </script>
</body>
</html>